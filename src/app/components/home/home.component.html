<div fxLayout="row " fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="left stretch"
    fxLayoutAlign.xs="center" class="locationMiddle">
    <ng-container>
        <mat-card id="appCard" class="card">
            <mat-card-header>
                <div mat-card-avatar class="example-header-image"></div>
                <mat-card-title>Style UML</mat-card-title>
                <mat-card-subtitle>Sequence Diagram Styler</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <mat-accordion id="scrollbar1">
                    <!--Text-->
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title id="textAccordion">
                                Text
                            </mat-panel-title>
                        </mat-expansion-panel-header>

                        <!-- <ace aria-rowcount="14" [config]="config" (keyup)="generate.generateSVG(tA.value)" id="tA" #tA class="coding" [(value)]="generate.text"></ace> -->
                        <mat-form-field>
                            <textarea [(ngModel)]="generate.text" class="coding" id="tA" #tA matInput rows="10"
                                (keyup)="generate.generateSVG(tA.value)"
                                placeholder="Plant UML Code">Bob->Alice : hello</textarea>
                        </mat-form-field>
                        <a target="_blank"
                            href="https://plantuml-documentation.readthedocs.io/en/latest/diagrams/sequence.html">
                            <button matTooltip="Go to the PlantUML syntax explanation page" mat-icon-button
                                color="primary">
                                Syntax <i class="material-icons">
                                    launch
                                </i>
                            </button>
                        </a>
                        <button *ngIf="!generate.isLarge" style="float: right;" (click)="openTextDialog()"
                            matTooltip="Enlarge textarea for easier coding" mat-icon-button color="primary">
                            <i class="material-icons">
                                zoom_out_map
                            </i>
                        </button>
                        <button *ngIf="generate.isLarge" style="float: right;" (click)="openTextDialog()"
                            matTooltip="Reduce textarea for easier styling" mat-icon-button color="primary">
                            <i class="material-icons">
                                arrow_back
                            </i>
                        </button>
                    </mat-expansion-panel>
                    <!--Import-->
                    <mat-expansion-panel (click)="reduceTextarea()" [(expanded)]="isOpen">
                        <mat-expansion-panel-header>
                            <mat-panel-title id="importAccordion">
                                Import
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ngx-file-drop style="border-color: #009ddc;" dropZoneLabel="Drop files here"
                            (onFileDrop)="dropped($event)" (click)="jsons.click()">
                            <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector">
                                <span style="text-align: center;">Upload file<br>
                                    Accepts: .zip, .json, .txt, .puml</span>
                            </ng-template>
                        </ngx-file-drop>
                        <input hidden #jsons id="jsonInput" type="file" accept=".zip, .json,.puml,.txt"
                            (change)="fileChanged($event)" value="Json">
                    </mat-expansion-panel>
                    <!--Themes-->
                    <mat-expansion-panel (click)="reduceTextarea()">
                        <mat-expansion-panel-header>
                            <mat-panel-title id="themesAccordion">
                                Themes
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <span *ngIf="generate.selectedType == 'Sequence'">
                            <mat-slide-toggle #usetheme id="usetheme" *ngIf="generate.isThemed" color="primary"
                                class="example-margin" [(ngModel)]="generate.isThemed"
                                (change)="generate.generateSVG(tA.value);">Use
                                theme
                            </mat-slide-toggle>
                            <mat-slide-toggle #notheme id="notheme" *ngIf="!generate.isThemed" color="primary"
                                class="example-margin" [(ngModel)]="generate.isThemed"
                                (change)="generate.generateSVG(tA.value);">No theme
                            </mat-slide-toggle>
                            <br><br>
                            <mat-form-field style="width:70%;">
                                <mat-label>Theme</mat-label>
                                <mat-select #selecttheme [disabled]="!generate.isThemed" id="selecttheme"
                                    [(value)]="generate.selectedTheme"
                                    (selectionChange)="generate.generateSVG(tA.value);">
                                    <mat-option id="{{theme}}" *ngFor="let theme of generate.themes" [value]="theme">
                                        {{theme}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <button style="float: right;" (click)="editTheme()" mat-mini-fab color="primary"><i
                                    class="material-icons">edit</i></button>
                            <br>
                        </span>
                    </mat-expansion-panel>
                    <!--Styling-->
                    <mat-expansion-panel (click)="reduceTextarea()" [disabled]="generate.isThemed">
                        <mat-expansion-panel-header>
                            <mat-panel-title id="stylingAccordion">
                                Styling
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-form-field *ngIf="generate.selectedType == 'Sequence'">
                            <mat-label>Shape</mat-label>
                            <mat-select [(value)]="generate.selectedShape"
                                (selectionChange)="generate.generateSVG(tA.value)">
                                <mat-option *ngFor="let shape of generate.shapes" [value]="shape">
                                    {{shape}}
                                </mat-option>
                                <mat-option (click)="img.click();generate.generateSVG(tA.value);" [value]="'Images'">
                                    Images
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field *ngIf="generate.selectedType != 'Sequence'">
                            <mat-label>Shape</mat-label>
                            <mat-select [(value)]="generate.selectedShape"
                                (selectionChange)="generate.generateSVG(tA.value)">
                                <mat-option [value]="'Rectangle'">
                                    Rectangle
                                </mat-option>
                                <mat-option [value]="'Rounded'">
                                    Rounded
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-slide-toggle *ngIf="generate.selectedShape=='Images' && generate.textImages"
                            color="primary" class="example-margin" [(ngModel)]="generate.textImages"
                            (change)="generate.generateSVG(tA.value)">With text
                        </mat-slide-toggle>
                        <mat-slide-toggle *ngIf="generate.selectedShape=='Images' && !generate.textImages"
                            color="primary" class="example-margin" [(ngModel)]="generate.textImages"
                            (change)="generate.generateSVG(tA.value)">No text
                        </mat-slide-toggle>
                        <mat-form-field *ngIf="generate.selectedType == 'Sequence'">
                            <mat-label>Numbers</mat-label>
                            <mat-select id="NumberSelect" [(value)]="generate.selectedNumber"
                                (selectionChange)="generate.generateSVG(tA.value)">
                                <mat-option id="{{number}}" *ngFor="let number of generate.autonumber" [value]="number">
                                    {{number}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Actors</mat-label>
                            <mat-select [disabled]="!generate.text.toLowerCase().includes('actor ')"
                                [(value)]="generate.selectedActor" (selectionChange)="generate.generateSVG(tA.value)">
                                <mat-option *ngFor="let actor of generate.actors" [value]="actor">
                                    {{actor}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field *ngIf="generate.selectedType == 'Sequence'">
                            <mat-label>Breaks</mat-label>
                            <mat-select id="BreakSelect" [disabled]="!generate.text.includes('...')"
                                [(value)]="generate.selectedBreak" (selectionChange)="generate.generateSVG(tA.value)">
                                <mat-option id="{{break}}" *ngFor="let break of generate.breaks" [value]="break">
                                    {{break}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field *ngIf="generate.selectedType == 'Sequence'">
                            <mat-label>Participant padding</mat-label>
                            <input matInput type="number" min="0" max="500" placeholder="0"
                                [(ngModel)]="generate.participantpadding" (change)="generate.generateSVG(tA.value)">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Border width</mat-label>
                            <input matInput type="number" min="0" max="15" placeholder="0" step="0.5"
                                [(ngModel)]="generate.participantstroke" (change)="generate.generateSVG(tA.value)">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>line width</mat-label>
                            <input matInput type="number" min="0" max="4" placeholder="0" step="0.5"
                                [(ngModel)]="generate.lineThickness" (change)="generate.generateSVG(tA.value)">
                        </mat-form-field>
                        <section class="example-section">
                            <mat-slide-toggle [disabled]="!generate.text.includes('note ')"
                                *ngIf="generate.selectedType == 'Sequence'" color="primary" class="example-margin"
                                [(ngModel)]="generate.hiddenNotes" (change)="generate.generateSVG(tA.value);">
                                Notes
                            </mat-slide-toggle>
                            <mat-slide-toggle *ngIf="generate.selectedType == 'Usecase'" color="primary"
                                class="example-margin" [(ngModel)]="generate.hiddenNotes"
                                (change)="generate.generateSVG(tA.value)">
                                Notes and arrows
                            </mat-slide-toggle>
                            <br *ngIf="generate.selectedType == 'Sequence'">
                            <mat-slide-toggle *ngIf="generate.selectedType == 'Sequence'" color="primary"
                                class="example-margin" [(ngModel)]="generate.footnotes"
                                (change)="generate.generateSVG(tA.value)">Footboxes
                            </mat-slide-toggle>
                            <br>
                            <mat-slide-toggle color="primary" class="example-margin"
                                [(ngModel)]="generate.hiddenShadows" (change)="generate.generateSVG(tA.value)">
                                Backdrop
                                shadows
                            </mat-slide-toggle>
                            <mat-slide-toggle color="primary" class="example-margin" [(ngModel)]="generate.multi"
                                (change)="generate.generateSVG(tA.value)">
                                Multi colored participants
                            </mat-slide-toggle>
                        </section>
                        <input hidden #img id="img" type="file" accept="image/*" (change)="setImage(img, tA.value)"
                            value="Image">
                    </mat-expansion-panel>
                    <!--Colors-->
                    <mat-expansion-panel (click)="reduceTextarea()" [disabled]="generate.isThemed">
                        <mat-expansion-panel-header>
                            <mat-panel-title id="colorsAccordion">
                                Colors
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <table>
                            <tr>
                                <td style="width: 50%;" *ngIf="generate.selectedType == 'Sequence'">
                                    Borders
                                </td>
                                <td style="width: 50%;" *ngIf="generate.selectedType == 'Usecase'">
                                    Borders and lines
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color1input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color1" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.color1" [(colorPicker)]="generate.color1"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 50%;">
                                    Backgrounds
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color2input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color2" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="secondary" class="inputHoverColor"
                                        [style.background]="generate.color2" [(colorPicker)]="generate.color2"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 50%;">
                                    Note backgrounds
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color3input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color3" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="tertiary" class="inputHoverColor"
                                        [style.background]="generate.color3" [(colorPicker)]="generate.color3"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 50%;">
                                    Note borders
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color4input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color4" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="quaternary" [style.background]="generate.color4"
                                        class="inputHoverColor" [(colorPicker)]="generate.color4"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 50%;">
                                    Text color
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color5input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color5" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="text" class="inputHoverColor"
                                        [style.background]="generate.color5" [(colorPicker)]="generate.color5"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 50%;" *ngIf="generate.selectedType == 'Sequence'">
                                    Lines
                                </td>
                                <td style="width: 50%;" *ngIf="generate.selectedType == 'Usecase'">
                                    Arrows
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color6input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color6" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="text" class="inputHoverColor"
                                        [style.background]="generate.color6" [(colorPicker)]="generate.color6"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.selectedType == 'Sequence'">
                                <td style="width: 50%;">
                                    Number border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color7input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color7" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="text" class="inputHoverColor"
                                        [style.background]="generate.color7" [(colorPicker)]="generate.color7"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.selectedType == 'Sequence'">
                                <td style="width: 50%;">
                                    Number background
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color8input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color8" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="text" class="inputHoverColor"
                                        [style.background]="generate.color8" [(colorPicker)]="generate.color8"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.selectedType == 'Sequence'">
                                <td style="width: 50%;">
                                    Number text
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color9input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.color9" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="text" class="inputHoverColor"
                                        [style.background]="generate.color9" [(colorPicker)]="generate.color9"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.selectedType == 'Sequence'">
                                <td style="width: 50%;">
                                    box background
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color9input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.colorBoxBack" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="text" class="inputHoverColor"
                                        [style.background]="generate.colorBoxBack" [(colorPicker)]="generate.colorBoxBack"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.selectedType == 'Sequence'">
                                <td style="width: 50%;">
                                    box border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color9input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text" [(ngModel)]="generate.colorBoxStroke" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="text" class="inputHoverColor"
                                        [style.background]="generate.colorBoxStroke" [(colorPicker)]="generate.colorBoxStroke"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                        </table>
                    </mat-expansion-panel>
                    <!--Multi participant colors-->
                    <mat-expansion-panel *ngIf="generate.multi" (click)="reduceTextarea()"
                        [disabled]="generate.isThemed">
                        <mat-expansion-panel-header>
                            <mat-panel-title id="multiColorsAccordion">
                                Multi participant colors
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <table>
                            <tr *ngIf="generate.multicount >=1">
                                <td style="width: 50%;">
                                    Participant 1 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color1input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder1" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder1"
                                        [(colorPicker)]="generate.colorParticipantBorder1"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=1">
                                <td style="width: 50%;">
                                    Participant 1 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color1input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground1" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground1"
                                        [(colorPicker)]="generate.colorParticipantBackground1"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=2">
                                <td style="width: 50%;">
                                    Participant 2 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color12input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder2" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder2"
                                        [(colorPicker)]="generate.colorParticipantBorder2"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=2">
                                <td style="width: 50%;">
                                    Participant 2 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color1input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground2" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground2"
                                        [(colorPicker)]="generate.colorParticipantBackground2"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=3">
                                <td style="width: 50%;">
                                    Participant 3 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder3" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder3"
                                        [(colorPicker)]="generate.colorParticipantBorder3"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=3">
                                <td style="width: 50%;">
                                    Participant 3 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground3" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground3"
                                        [(colorPicker)]="generate.colorParticipantBackground3"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=4">
                                <td style="width: 50%;">
                                    Participant 4 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder4" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder4"
                                        [(colorPicker)]="generate.colorParticipantBorder4"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=4">
                                <td style="width: 50%;">
                                    Participant 4 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground4" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground4"
                                        [(colorPicker)]="generate.colorParticipantBackground4"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=5">
                                <td style="width: 50%;">
                                    Participant 5 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder5" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder5"
                                        [(colorPicker)]="generate.colorParticipantBorder5"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=5">
                                <td style="width: 50%;">
                                    Participant 5 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground5" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground5"
                                        [(colorPicker)]="generate.colorParticipantBackground5"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=6">
                                <td style="width: 50%;">
                                    Participant 6 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder6" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder6"
                                        [(colorPicker)]="generate.colorParticipantBorder6"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=6">
                                <td style="width: 50%;">
                                    Participant 6 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground6" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground6"
                                        [(colorPicker)]="generate.colorParticipantBackground6"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=7">
                                <td style="width: 50%;">
                                    Participant 7 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder7" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder7"
                                        [(colorPicker)]="generate.colorParticipantBorder7"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=7">
                                <td style="width: 50%;">
                                    Participant 7 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground7" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground7"
                                        [(colorPicker)]="generate.colorParticipantBackground7"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=8">
                                <td style="width: 50%;">
                                    Participant 8 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder8" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder8"
                                        [(colorPicker)]="generate.colorParticipantBorder8"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=8">
                                <td style="width: 50%;">
                                    Participant 8 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground8" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground8"
                                        [(colorPicker)]="generate.colorParticipantBackground8"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=9">
                                <td style="width: 50%;">
                                    Participant 9 border
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBorder9" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBorder9"
                                        [(colorPicker)]="generate.colorParticipantBorder9"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                            <tr *ngIf="generate.multicount >=9">
                                <td style="width: 50%;">
                                    Participant 9 back
                                </td>
                                <td style="width: 25%;">
                                    <input matInput id="color13input" class="inputHover"
                                        (change)="generate.setColors(null)" type="text"
                                        [(ngModel)]="generate.colorParticipantBackground9" />
                                </td>
                                <td></td>
                                <td style="width: 35%;">
                                    <input type="button" [cpPresetColors]="['#fff']" [cpAddColorButton]="true"
                                        style="width: 100%;" id="primary" class="inputHoverColor"
                                        [style.background]="generate.colorParticipantBackground9"
                                        [(colorPicker)]="generate.colorParticipantBackground9"
                                        (colorPickerChange)="generate.setColors(null)" />
                                </td>
                            </tr>
                        </table>
                    </mat-expansion-panel>
                    <!--Fonts-->
                    <mat-expansion-panel (click)="reduceTextarea()" [disabled]="generate.isThemed">
                        <mat-expansion-panel-header>
                            <mat-panel-title id="fontsAccordion">
                                Fonts
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-form-field>
                            <mat-label>Font</mat-label>
                            <mat-select [(value)]="generate.selectedFont"
                                (selectionChange)="generate.generateSVG(tA.value)">
                                <mat-option [value]="'Tahoma'">
                                    Tahoma
                                </mat-option>
                                <mat-option *ngFor="let font of generate.fonts" [value]="font.family">
                                    {{font.family}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label *ngIf="generate.selectedType == 'Sequence'">Participant font size
                            </mat-label>
                            <mat-label *ngIf="generate.selectedType == 'Usecase'">Actor font size</mat-label>
                            <input matInput type="number" min="1" max="40" placeholder="0"
                                [(ngModel)]="generate.participantfontsize" (change)="generate.generateSVG(tA.value)">
                        </mat-form-field>
                        <mat-form-field *ngIf="generate.selectedType == 'Sequence'">
                            <mat-label>Diagram font size</mat-label>
                            <input matInput type="number" min="1" max="40" placeholder="0"
                                [(ngModel)]="generate.sequencetextsize" (change)="generate.generateSVG(tA.value)">
                        </mat-form-field>
                    </mat-expansion-panel>
                </mat-accordion>
                <br>
                <button mat-raised-button class="mat-expansion-panel-header accordionbtn" (click)="download()"><span
                        style="margin-left: 9px;">Export</span><i
                        style="float: right; margin-top: 6px; color: rgb(129, 126, 126);"
                        class="material-icons">get_app</i></button>
                <!-- <button mat-raised-button class="mat-expansion-panel-header accordionbtn" (click)="clipboard()"><span
                        style="margin-left: 9px;">Copy to clipboard</span><i
                        style="float: right; margin-top: 6px; color: rgb(129, 126, 126);"
                        class="material-icons">file_copy</i></button> -->
                <br>
                <br>
                <mat-spinner *ngIf="isLoading" style="position: relative; left: 40%;"></mat-spinner>
            </mat-card-content>
            <mat-card-actions>
                <button style="float: right;" (click)="closeApp()" matTooltip="Collapse app" mat-icon-button
                    color="primary">
                    <i class="material-icons">
                        arrow_back
                    </i>
                </button>
            </mat-card-actions>
        </mat-card>
        <button class="resetBtn" matTooltip="Open app" *ngIf="generate.isSmall" mat-mini-fab (click)="reduceTextarea()"
            color="primary"><i class="material-icons">arrow_forward</i></button>
        <mat-card id="scrollbar2" class="diagram">
            <mat-card-header>
                <mat-card-title>Diagram</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div [innerHTML]="generate.svg | trustHtml"></div>
            </mat-card-content>
        </mat-card>
    </ng-container>
</div>