<div fxLayout="row wrap" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="left stretch"
    fxLayoutAlign.xs="center" class="locationMiddle">
    <ng-container>
        <mat-card class="card">
            <mat-card-header>
                <div mat-card-avatar class="example-header-image"></div>
                <mat-card-title>Style UML</mat-card-title>
                <mat-card-subtitle>Sequence diagram styler</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <mat-form-field style="width: 100%">
                    <textarea #tA matInput style="width: 100%" rows="10" (keyup)="generateSvg(tA.value)"
                        placeholder="Plant uml code">Bob->Alice : hello</textarea>
                </mat-form-field>
                <!--Themes-->
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Themes
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-slide-toggle *ngIf="isThemed" color="primary" class="example-margin" [(ngModel)]="isThemed"
                            (change)="setStyle()">Use theme
                        </mat-slide-toggle>
                        <mat-slide-toggle *ngIf="!isThemed" color="primary" class="example-margin"
                            [(ngModel)]="isThemed" (change)="setStyle()">No theme
                        </mat-slide-toggle>
                        <br><br>
                        <mat-form-field>
                            <mat-label>Theme</mat-label>
                            <mat-select [(value)]="selectedTheme" (selectionChange)="setStyle()">
                                <mat-option [value]="'PlantUML'">
                                    PlantUML
                                </mat-option>
                                <mat-option [value]="'ISAAC'">
                                    ISAAC
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </mat-expansion-panel>
                </mat-accordion>
                <!--Colors-->
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Colors
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <table>
                            <tr>
                                <td>
                                    Borders and lines
                                </td>
                                <td>
                                    <span style="float: left;">{{color1}}</span>
                                </td>
                                <td></td>
                                <td>
                                    <input style="width: 100px;" id="primary" [style.background]="color1"
                                        [(colorPicker)]="color1" (colorPickerChange)="setColors()" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Backgrounds
                                </td>
                                <td>
                                    <span style="float: left;">{{color2}}</span>
                                </td>
                                <td></td>
                                <td>
                                    <input style="width: 100px;" id="secondary" [style.background]="color2"
                                        [(colorPicker)]="color2" (colorPickerChange)="setColors()" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Note backgrounds
                                </td>
                                <td>
                                    <span style="float: left;">{{color3}}</span>
                                </td>
                                <td></td>
                                <td>
                                    <input style="width: 100px;" id="tertiary" [style.background]="color3"
                                        [(colorPicker)]="color3" (colorPickerChange)="setColors()" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Note borders
                                </td>
                                <td>
                                    <span style="float: left;">{{color4}}</span>
                                </td>
                                <td></td>
                                <td>
                                    <input style="width: 100px;" id="quaternary" [style.background]="color4"
                                        [(colorPicker)]="color4" (colorPickerChange)="setColors()" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Text color
                                </td>
                                <td>
                                    <span style="float: left;">{{color5}}</span>
                                </td>
                                <td></td>
                                <td>
                                    <input style="width: 100px;" id="text" [style.background]="color5"
                                        [(colorPicker)]="color5" (colorPickerChange)="setColors()" />
                                </td>
                            </tr>
                        </table>
                    </mat-expansion-panel>
                </mat-accordion>
                <!--Fonts-->
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Fonts
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-form-field>
                            <mat-label>Font</mat-label>
                            <mat-select [(value)]="selectedFont" (selectionChange)="setFont()">
                                <mat-option [value]="'Tahoma'">
                                    Tahoma
                                </mat-option>
                                <mat-option *ngFor="let font of fonts" [value]="font.family">
                                    {{font.family}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Participant font size</mat-label>
                            <input matInput type="number" placeholder="0" [(ngModel)]="participantfontsize"
                                (change)="generateSvg(tA.value)">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Diagram font size</mat-label>
                            <input matInput type="number" placeholder="0" [(ngModel)]="sequencetextsize"
                                (change)="generateSvg(tA.value)">
                        </mat-form-field>
                    </mat-expansion-panel>
                </mat-accordion>
                <!--Styling-->
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Styling
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-form-field>
                            <mat-label>Shape</mat-label>
                            <mat-select [(value)]="selectedShape" (selectionChange)="generateSvg(tA.value)">
                                <mat-option *ngFor="let shape of shapes" [value]="shape">
                                    {{shape}}
                                </mat-option>
                                <mat-option (click)="img.click();generateSvg(tA.value);" [value]="'Images'">
                                    Images
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        &nbsp;
                        <mat-slide-toggle *ngIf="selectedShape=='Images' && textImages" color="primary"
                            class="example-margin" [(ngModel)]="textImages" (change)="generateSvg(tA.value)">With text
                        </mat-slide-toggle>
                        <mat-slide-toggle *ngIf="selectedShape=='Images' && !textImages" color="primary"
                            class="example-margin" [(ngModel)]="textImages" (change)="generateSvg(tA.value)">No text
                        </mat-slide-toggle>
                        <mat-form-field>
                            <mat-label>Numbers</mat-label>
                            <mat-select [(value)]="selectedNumber" (selectionChange)="generateSvg(tA.value)">
                                <mat-option *ngFor="let number of autonumber" [value]="number">
                                    {{number}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Actors</mat-label>
                            <mat-select [(value)]="selectedActor" (selectionChange)="generateSvg(tA.value)">
                                <mat-option *ngFor="let actor of actors" [value]="actor">
                                    {{actor}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Breaks</mat-label>
                            <mat-select [(value)]="selectedBreak" (selectionChange)="generateSvg(tA.value)">
                                <mat-option *ngFor="let break of breaks" [value]="break">
                                    {{break}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Participant padding</mat-label>
                            <input matInput type="number" placeholder="0" [(ngModel)]="participantpadding"
                                (change)="generateSvg(tA.value)">
                        </mat-form-field>
                        <input hidden #img id="img" type="file" accept="image/*" (change)="setImage(img, tA.value)"
                            value="Image">
                        <section class="example-section">
                            <mat-slide-toggle color="primary" class="example-margin" [(ngModel)]="hiddenNotes"
                                (change)="changeHidden()">Notes
                            </mat-slide-toggle>
                            <br>
                            <mat-slide-toggle color="primary" class="example-margin" [(ngModel)]="hiddenFootnotes"
                                (change)="changeFootnotes(tA.value)">Footnotes
                            </mat-slide-toggle>
                            <br>
                            <mat-slide-toggle color="primary" class="example-margin" [(ngModel)]="hiddenShadows"
                                (change)="changeFootnotes(tA.value)">Backdrop shadows
                            </mat-slide-toggle>
                        </section>
                    </mat-expansion-panel>
                </mat-accordion>
                <!--Actions-->
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Actions
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <button mat-mini-fab color="primary" (click)="download()"><i class="material-icons">
                                get_app
                            </i></button>
                    </mat-expansion-panel>
                </mat-accordion>
            </mat-card-content>
            <mat-card-actions>
            </mat-card-actions>
        </mat-card>
        <mat-card class="diagram">
            <mat-card-header>
                <mat-card-title>Diagram</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div [innerHTML]="svg | trustHtml"></div>
            </mat-card-content>
        </mat-card>
    </ng-container>
</div>